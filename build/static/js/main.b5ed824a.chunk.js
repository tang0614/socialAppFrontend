(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[0],{150:function(e,t,a){e.exports=a(179)},155:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),c=a.n(o),l=a(15),i=(a(155),a(7)),s=a(216),m=a(229),u=a(231),d=a(113),p=a.n(d),g=a(227),f=a(230),b=a(62),h=a(248),y=a(247),O=a(219),E=a(226),j=a(223),w=a(228),v=a(222),C=a(55),S=a(10),k=a(8),x=Object(k.a)("apiCallBegan"),_=Object(k.a)("apiCallSuccess"),D=Object(k.a)("apiCallFailed"),N=Object(k.a)("logoutUser"),I=Object(k.a)("apiGetUserBegan "),F=Object(k.a)("apiGetUserSuccess"),P=Object(k.a)("apiGetUserFailed"),T=Object(k.a)("apiPutUserBegan "),U=Object(k.a)("apiPutUserSuccess"),L=Object(k.a)("apiPutUserFailed"),B=Object(k.a)("apiGetScreamBegan"),W=Object(k.a)("apiGetScreamSuccess"),A=Object(k.a)("apiGetScreamFailed"),R=Object(k.a)("apiGetOneScreamBegan"),z=Object(k.a)("apiGetOneScreamSuccess"),M=Object(k.a)("apiGetOneScreamFailed"),G=(Object(k.a)("apiLikeScreamBegan"),Object(k.a)("apiLikeScreamSuccess "),Object(k.a)("apiLikeScreamFailed"),Object(k.a)("apiUnLikeScreamBegan"),Object(k.a)("apiUnLikeScreamSuccess "),Object(k.a)("apiUnLikeScreamFailed"),Object(k.a)("apiPostScreamBegan")),J=Object(k.a)("apiPostScreamSuccess"),X=Object(k.a)("apiPostScreamFailed"),V=Object(k.a)("apiDeleteBegan"),Z=Object(k.a)("apiDeleteSuccess"),$=Object(k.a)("apiDeleteFailed"),H=Object(k.a)("apiUncommentBegan"),K=Object(k.a)("apiUncommentSuccess"),q=Object(k.a)("apiUncommentFailed"),Q=Object(k.a)("apiPostCommentBegan"),Y=Object(k.a)("apiPostCommentSuccess"),ee=Object(k.a)("apiPostCommentFailed"),te=Object(k.a)("apiPutCommentBegan"),ae=Object(k.a)("apiPutCommentSuccess"),ne=Object(k.a)("apiPutCommentFailed"),re=Object(k.a)("apiPutRetweetBegan"),oe=Object(k.a)("apiPutRetweetSuccess"),ce=Object(k.a)("apiPutRetweetFailed"),le=Object(k.a)("apiPutLikeBegan"),ie=Object(k.a)("apiPutLikeSuccess"),se=Object(k.a)("apiPutLikeFailed"),me=Object(k.a)("apiPutUnLikeBegan"),ue=Object(k.a)("apiPutUnLikeSuccess"),de=Object(k.a)("apiPutUnLikeFailed"),pe=Object(k.a)("apiPutFollowBegan"),ge=Object(k.a)("apiPutFollowSuccess"),fe=Object(k.a)("apiPutFollowFailed"),be=Object(k.a)("apiPutUnFollowBegan"),he=Object(k.a)("apiPutUnFollowSuccess"),ye=Object(k.a)("apiPutUnFollowFailed"),Oe=Object(s.a)((function(e){return{errorMessage:{fontSize:"0.8rem",color:"red",textAlign:"center"}}})),Ee=Object(S.b)((function(e){return{loading:e.user.loading,errors:e.user.errors}}),(function(e){return{signup:function(t,a,n){return e(x({userData:a,url:t,history:n}))}}}))((function(e){var t=Oe(e),a=e.open,o=e.handleClose,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],m=l[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),S=h[0],k=h[1],x=Object(n.useState)(""),_=Object(i.a)(x,2),D=_[0],N=_[1],I=Object(n.useState)(""),F=Object(i.a)(I,2),P=F[0],T=F[1],U=Object(n.useState)(""),L=Object(i.a)(U,2),B=L[0],W=L[1],A=Object(n.useState)(""),R=Object(i.a)(A,2),z=R[0],M=R[1],G=Object(n.useState)(""),J=Object(i.a)(G,2),X=J[0],V=J[1],Z=Object(n.useState)(!1),$=Object(i.a)(Z,2),H=$[0],K=$[1],q=function(e){var t=e.target.name,a=function(e,t){if("email"!==t)return"repeat_password"===t?e!==S?"password must be same":"":e.length>=6?"":"length should be longer than 6";return e.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?void 0:"Please enter correct format"}(e.target.value,e.target.name);"handle"===t?(m(e.target.value),T(a)):"password"===t?(k(e.target.value),M(a)):"email"===t?(f(e.target.value),W(a)):(N(e.target.value),V(a)),K(!!a)};return r.a.createElement(O.a,{open:a,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement(v.a,{id:"form-dialog-title"},"Create your account"),r.a.createElement(j.a,null,r.a.createElement(y.a,{id:"handle",name:"handle",type:"handle",label:"User Name",value:s,onChange:q,helperText:P,error:!!P,fullWidth:!0}),r.a.createElement(y.a,{id:"email",name:"email",type:"email",label:"Email",value:p,onChange:q,helperText:B,error:!!B,fullWidth:!0}),r.a.createElement(y.a,{id:"password",name:"password",type:"password",label:"Password",value:S,onChange:q,helperText:z,error:!!z,fullWidth:!0}),r.a.createElement(y.a,{id:"repeat_password",name:"repeat_password",type:"password",label:"Confirm password",value:D,onChange:q,helperText:X,error:!!X,fullWidth:!0})),e.errors&&r.a.createElement(C.a,{variant:"body2",className:t.errorMessage},e.errors),r.a.createElement(E.a,null,r.a.createElement(g.a,{onClick:o,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:function(t){t.preventDefault(),function(){var t={email:p,password:S,repeat_password:D,handle:s};e.signup("./api/users",t,e.history)}(),console.log("handling server..")},color:"primary",disabled:H},"Sign Up",e.loading&&r.a.createElement(w.a,{size:10}))))})),je=Object(s.a)((function(e){return{errorMessage:{fontSize:"0.8rem",color:"red",textAlign:"center"}}})),we=Object(S.b)((function(e){return{loading:e.user.loading,errors:e.user.errors}}),(function(e){return{login:function(t,a,n){return e(x({userData:a,url:t,history:n}))}}}))((function(e){var t=je(e),a=e.open,o=e.handleClose,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],m=l[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),S=h[0],k=h[1],x=Object(n.useState)(""),_=Object(i.a)(x,2),D=_[0],N=_[1],I=Object(n.useState)(!1),F=Object(i.a)(I,2),P=F[0],T=F[1],U=function(e){var t=e.target.name,a=function(e,t){if("email"!==t)return e.length>=6?"":"length should be longer than 6";return e.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?void 0:"Please enter correct format"}(e.target.value,e.target.name);"password"===t?(f(e.target.value),N(a)):"email"===t&&(m(e.target.value),k(a)),T(!!a)};return r.a.createElement(O.a,{open:a,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement(v.a,{id:"form-dialog-title"},"Log in to Twitter"),r.a.createElement(j.a,null,r.a.createElement(y.a,{id:"email",name:"email",type:"email",label:"Email",value:s,onChange:U,helperText:S,error:!!S,fullWidth:!0}),r.a.createElement(y.a,{id:"password",name:"password",type:"password",label:"Password",value:p,onChange:U,helperText:D,error:!!D,fullWidth:!0})),e.errors&&r.a.createElement(C.a,{variant:"body2",className:t.errorMessage},e.errors),r.a.createElement(E.a,null,r.a.createElement(g.a,{onClick:o,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:function(t){t.preventDefault(),function(){var t={email:s,password:p};e.login("./api/auth",t,e.history)}(),console.log("handling server..")},color:"primary",disabled:P},"Log In",e.loading&&r.a.createElement(w.a,{size:10}))))})),ve=Object(s.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",backgroundImage:"url(/image/background.png)",backgroundSize:"cover",backgroundRepeat:"no-repeat"},twitterIcon:{color:"white",fontSize:"4rem"},title:{fontSize:"2rem",fontWeight:"500",textAlign:"start",color:"white"},note:{fontSize:"1rem",textAlign:"start",fontWeight:"500",color:"white"},wrapper:{width:"90%"},buttonSignUp:{width:"10rem",padding:"0.5rem 2rem",margin:"1em 0",borderRadius:"20%",backgroundColor:"white",color:"black"},buttonLogIn:{width:"10rem",padding:"0.5rem 2rem",margin:"1em 0",borderRadius:"20%",backgroundColor:"#33C0FF"},imageContainer:{width:"100%",height:"100vh"},image:{width:"100%",height:"100%",backgroundImage:"url(/image/twitterLogo.jpg)",backgroundRepeat:"repeat"}}})),Ce=function(e){var t=ve(e),a=r.a.useState(!1),n=Object(i.a)(a,2),o=n[0],c=n[1],l=r.a.useState(!1),s=Object(i.a)(l,2),d=s[0],y=s[1];return r.a.createElement("div",{className:t.root},r.a.createElement(m.a,null),r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,xs:12,sm:6,container:!0},r.a.createElement(u.a,null,r.a.createElement(p.a,{className:t.twitterIcon})),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(f.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(f.a,{item:!0,xs:12,sm:6,className:t.wrapper},r.a.createElement("p",{className:t.title},"See what's happening in the world right now"),r.a.createElement("p",{className:t.note},"Join twitter today.")),r.a.createElement(f.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"contained",color:"primary",className:t.buttonSignUp,onClick:function(){c(!0)}},"Sign up")),r.a.createElement(f.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"outlined",color:"black",className:t.buttonLogIn,onClick:function(){y(!0)}},"Log in"))))),r.a.createElement(f.a,{item:!0,sm:6,className:t.imageContainer},r.a.createElement(h.a,{xsDown:!0},r.a.createElement(b.a,{className:t.image})))),r.a.createElement(Ee,Object.assign({open:o,handleClose:function(){c(!1)}},e)),r.a.createElement(we,Object.assign({open:d,handleClose:function(){y(!1)}},e)))},Se=a(14),ke=a(6),xe=a(38),_e=a(250),De=Object(s.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)},flexDirection:"row"},large:{width:e.spacing(6),height:e.spacing(6),border:"1px solid black"},editImage:{width:"5px",padding:0,margin:0}}})),Ne=function(e){var t=De(),a=e.imageUrl?"https://xinyu-socialapp-backend-demo.herokuapp.com/"+e.imageUrl:window.location.origin+"/image/icon.png";return r.a.createElement("div",{className:t.root},r.a.createElement(_e.a,{alt:"avatar",src:a,className:t.large}))},Ie=a(78),Fe=a.n(Ie),Pe=a(249),Te=Object(S.b)((function(e){return{screams:e.data.screams}}),(function(e){return{delete:function(t,a,n){return e(V({url:t,data:a,history:n}))},uncomment:function(t,a){return e(H({url:t,userData:a}))}}}))(Object(l.g)((function(e){var t=e.handleOpen,a=e.handleClose,n=e.open,o=e.scream;return r.a.createElement("div",null,r.a.createElement(Pe.a,{onClick:t,title:"delete"},r.a.createElement(Fe.a,null)),r.a.createElement(O.a,{open:n,onClose:a,fullWidth:!0,maxWidth:"sm"},r.a.createElement(v.a,null,"Are you sure you want to delete this tweet ?"),r.a.createElement(E.a,null,r.a.createElement(g.a,{onClick:a,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:function(){console.log("deleting scream");var t=[o._id];if(o.commentOn){var n={comment_id:o._id,commented_id:o.commentOn};e.uncomment("./api/screams/uncomment",n)}t=function t(a,n){return e.screams.forEach((function(e){if(e.commentOn&&e.commentOn===a._id)n.push(e._id),t(e,n);else if(e.retweetOn&&e.retweetOn===a._id)n.push(e._id),t(e,n);else if(!e.commentOn)return})),n}(o,t),console.log("ids is",t);var r={ids:t};setTimeout((function(){e.delete("./api/screams/delete",r,e.history)}),1e3),a()},color:"secondary"},"Delete"))))}))),Ue=a(115),Le=a.n(Ue),Be=a(116),We=a.n(Be),Ae=a(79),Re=a.n(Ae),ze=Object(s.a)((function(e){return{buttons:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"},disabled:{color:"#cccccc",cursor:"none"},liked:{color:"#1DA1F2"},unliked:{}}})),Me=Object(S.b)((function(e){return{user:e.user.user}}))((function(e){var t=ze(e),a=Object(n.useState)(""),o=Object(i.a)(a,2),c=o[0],l=o[1];Object(n.useEffect)((function(){var t=e.user.like?e.user.like.filter((function(e){return e._id===s._id})):"";l(t.length>0)}),[e.user.like]);var s=e.scream,m=e.handleClickOpen,u=e.openDelete,d=e.handleDeleteOpen,p=e.handleDeleteClose,f=e.retweet,b=e.like,h=e.unLike,y=s.body.startsWith("retweet")?"":r.a.createElement("div",{className:t.buttons},r.a.createElement(Pe.a,{onClick:m,title:"comment"},r.a.createElement(g.a,null,s.comments.length,r.a.createElement(Le.a,null))),r.a.createElement(Pe.a,{onClick:f,title:"retweet"},r.a.createElement(g.a,null,s.retweets.length,r.a.createElement(Re.a,null))),r.a.createElement(Pe.a,{onClick:function(){console.log("handleLikePost"),c?(h(s._id),l(!1)):(b(s._id),l(!0))},title:"retweet"},r.a.createElement(g.a,{className:c?t.liked:t.unLiked},r.a.createElement(We.a,null))),s.author===e.user._id?r.a.createElement(Te,{scream:s,handleOpen:d,handleClose:p,open:u}):r.a.createElement(Pe.a,{title:"delete disabled",className:t.disabled},r.a.createElement(Fe.a,{disabled:!0})));return r.a.createElement("div",null,y)})),Ge=a(233),Je=a(232),Xe=a(59),Ve=a.n(Xe),Ze=a(80),$e=a.n(Ze),He=a(117),Ke=a.n(He),qe=Object(s.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)},flexDirection:"row"},large:{width:e.spacing(10),height:e.spacing(10),border:"2px solid black"},small:{width:e.spacing(6),height:e.spacing(6),border:"1px solid black"},editImage:{width:"5px",padding:0,margin:0}}})),Qe=Object(S.b)((function(e){return{user:e.user.user,error:e.user.update_error}}))((function(e){var t,a=qe();return t=e.user?e.error?r.a.createElement(_e.a,{alt:"avatar",src:window.location.origin+"/image/icon.png",className:e.isTweet?a.small:a.large}):r.a.createElement(_e.a,{alt:"avatar",src:"https://xinyu-socialapp-backend-demo.herokuapp.com/"+e.user.imageUrl,className:e.isTweet?a.small:a.large}):r.a.createElement(w.a,null),r.a.createElement("div",{className:a.root},t)})),Ye=Object(s.a)((function(e){return{root:{boxShadow:"none",width:"250px",margin:"0 auto"},notes:{textAlign:"start"},header:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},headerItem:{display:"flex",flexDirection:"row",alignItems:"center"},content:{width:"250px",textAlign:"start",padding:"1rem 0 "},icon:{display:"flex",flexDirection:"row",alignItems:"center"}}})),et=Object(S.b)((function(e){return{user:e.user.user,screams:e.data.screams}}))((function(e){var t,a=Ye(e),n=e.scream,o=n.createdAt,c=(n._id,n.body),l=n.author_details,i=n.author,s=e.isComment,m=e.isNested,u=e.scream,d=e.handleClickOpen,p=e.openDelete,g=e.handleDeleteOpen,f=e.handleDeleteClose,b=e.retweet;if(Ve.a.extend($e.a),c.startsWith("retweet")){var h=c.split("retweet")[1],y=e.screams.find((function(e){return e._id===h}));t=r.a.createElement(Nt,{scream:y,isRetweet:!0})}else t=r.a.createElement(C.a,{variant:"body2"},c);var O=i===e.user._id?r.a.createElement("div",{className:a.headerItem},r.a.createElement(Qe,{isTweet:!0}),r.a.createElement(Je.a,{component:xe.b,to:"/profile",color:"textPrimary"},"@",e.user.handle)):r.a.createElement("div",{className:a.headerItem},r.a.createElement(Ne,{imageUrl:l[0].imageUrl}),r.a.createElement(Je.a,{component:xe.b,to:"/profile",color:"textPrimary"},"@",l[0].handle)),E=c.startsWith("retweet")?"":O;return r.a.createElement(Ge.a,{className:a.root},r.a.createElement("div",{className:a.notes},s?r.a.createElement(C.a,{variant:"caption",color:"textSecondary",className:a.icon},r.a.createElement(Ke.a,null),e.user.handle+" replying"):"",c.startsWith("retweet")?r.a.createElement(C.a,{variant:"caption",color:"textSecondary",className:a.icon},r.a.createElement(Re.a,null),e.user.handle+" retweet"):""),r.a.createElement("div",{className:a.header},E,r.a.createElement("div",null,r.a.createElement(C.a,{variant:"caption",color:"textSecondary",className:a.headerItem},Ve()(o).fromNow()))),r.a.createElement("div",{className:a.content},t),m?r.a.createElement(Me,{scream:u,handleClickOpen:d,openDelete:p,handleDeleteOpen:g,handleDeleteClose:f,retweet:b}):"")})),tt=a(81),at=a.n(tt),nt=a(118),rt=a(41),ot=a.n(rt);var ct={log:function(e){console.log(e)}},lt=a(119);ot.a.defaults.baseURL="https://xinyu-socialapp-backend-demo.herokuapp.com",ot.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(ct.log(e),lt.a.error("An unexpected error occurrred.")),Promise.reject(e)}));var it={get:ot.a.get,post:ot.a.post,put:ot.a.put,delete:ot.a.delete,setJwt:function(e){ot.a.defaults.headers.common["x-auth-token"]=e},deleteJwt:function(){delete ot.a.defaults.headers.common["x-auth-token"]}},st=function(e){localStorage.setItem("IdToken",e),localStorage.setItem("expirationDate",new Date((new Date).getTime()+1e9)),it.setJwt(e)},mt=function(){localStorage.removeItem("IdToken"),localStorage.removeItem("expirationDate"),it.deleteJwt()};function ut(){try{var e=localStorage.getItem("IdToken");return Object(nt.a)(e)}catch(t){console.log("no valid web token_key given")}}var dt=function(e){localStorage.setItem("IdComment",e),console.log("comment id set successfully")},pt=function(){localStorage.removeItem("IdComment")};function gt(){try{return localStorage.getItem("IdComment")}catch(e){console.log("no valid comment key given")}}var ft=Object(s.a)((function(e){return{cancelIcon:{position:"absolute",right:0,top:0,padding:0,margin:0}}})),bt=Object(S.b)((function(e){return{comment_id:e.data.comment_id,fetch_loading:e.user.fetch_loading,fetch_errors:e.user.fetch_errors}}),(function(e){return{postComment:function(t,a){return e(Q({url:t,userData:a}))},putCommentDetail:function(t,a){return e(te({url:t,userData:a}))}}}))((function(e){var t=ft(e),a=e.handleClose,o=e.open,c=e.scream._id,l=Object(n.useState)(""),s=Object(i.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)(!0),p=Object(i.a)(d,2),f=p[0],b=p[1];return r.a.createElement(O.a,{open:o,onClose:a,"aria-labelledby":"form-dialog-title",fullWidth:"100%"},r.a.createElement(g.a,{className:t.cancelIcon,onClick:a,color:"primary"},r.a.createElement(at.a,null)),r.a.createElement(et,{scream:e.scream}),r.a.createElement(j.a,null,r.a.createElement(y.a,{id:"tweet",multiline:!0,rows:4,defaultValue:m,onChange:function(e){u(e.target.value);var t=function(e){if(e.length>200||e.length<3)return"length should be smaller than 200 and smaller than 3 characters"}(e.target.value);b(!!t)},variant:"outlined",fullWidth:"100%",label:"Tweet your reply"})),r.a.createElement(E.a,null,r.a.createElement(g.a,{onClick:function(t){t.preventDefault();var n={body:m};e.postComment("./api/screams",n);try{setTimeout((function(){var t={comment_id:gt(),commented_id:c};e.putCommentDetail("./api/screams/comment",t)}),1e3),u("")}catch(r){alert("internet error, fail to comment")}a()},variant:"contained",color:"primary",disabled:f},"Tweet")))})),ht=a(120),yt=a.n(ht),Ot=a(234),Et=a(235),jt=Object(s.a)((function(e){return{disabled:{color:"#cccccc",cursor:"none"},buttons:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"},retweet_buttons:{width:250,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"},fullScreenScreamCard:{margin:"5rem 0"},follow:{position:"absolute",top:"5rem ",right:"2rem"}}})),wt=Object(S.b)((function(e){return{user:e.user.user,post:e.data.post,screams:e.data.screams,post_loading:e.data.post_loading}}),(function(e){return{getScream:function(t){return e(R({url:t}))}}}))((function(e){var t=jt(e),a=e.handleCloseFull,o=e.scream,c=e.handleClickOpen,l=e.openDelete,i=e.handleDeleteOpen,s=e.handleDeleteClose,m=e.retweet;Object(n.useEffect)((function(){console.log("scream detail using effect"),d(o._id)}),[o]);var d=function(t){e.getScream("/api/screams/".concat(t))},p=e.post_loading?r.a.createElement(w.a,null):e.post.comments_details?e.post.comments_details.map((function(t,a){var n=e.screams.find((function(e){return e._id===t._id}));return r.a.createElement(et,{key:a,scream:n,isComment:!0,isNested:!0,handleClickOpen:c,openDelete:l,handleDeleteOpen:i,handleDeleteClose:s,retweet:m})})):"";return r.a.createElement("div",null,r.a.createElement(Ot.a,{className:t.appBar},r.a.createElement(Et.a,null,r.a.createElement(u.a,{edge:"start",color:"inherit",onClick:a,"aria-label":"close"},r.a.createElement(yt.a,null)))),r.a.createElement("div",{className:t.fullScreenScreamCard},r.a.createElement(et,{scream:o}),r.a.createElement(Me,{scream:o,handleClickOpen:c,openDelete:l,handleDeleteOpen:i,handleDeleteClose:s,retweet:m})),p)})),vt=a(181),Ct=a(122),St=a.n(Ct),kt=a(121),xt=a.n(kt),_t=Object(s.a)((function(e){return{root:{maxWidth:512,margin:"0 auto",padding:0,boxShadow:"none",borderBottom:"1px dotted #cccccc"},disabled:{color:"#cccccc",cursor:"none"},buttons:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"},retweet_buttons:{width:250,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"},fullScreenScreamCard:{marginTop:"4rem"},follow:{color:"#1DA1F2"},add:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",margin:0,padding:0}}})),Dt=r.a.forwardRef((function(e,t){return r.a.createElement(vt.a,Object.assign({direction:"up",ref:t},e))})),Nt=Object(S.b)((function(e){return{user:e.user.user}}),(function(e){return{postComment:function(t,a,n){return e(Q({url:t,userData:a,handle:n}))},putRetweetDetail:function(t,a){return e(re({url:t,userData:a}))},putLikePost:function(t){return e(le({url:t}))},putUnLikePost:function(t){return e(me({url:t}))},putFollow:function(t){return e(pe({url:t}))},putUnFollow:function(t){return e(be({url:t}))}}}))((function(e){var t=_t(e);Ve.a.extend($e.a);var a=e.scream,o=Object(n.useState)(!1),c=Object(i.a)(o,2),l=c[0],s=c[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),h=b[0],y=b[1],E=Object(n.useState)(""),j=Object(i.a)(E,2),w=j[0],v=j[1];Object(n.useEffect)((function(){var t=e.user.following?e.user.following.filter((function(e){return e===a.author})):"";v(t.length>0)}),[e.user.following]);var C=function(){y(!0)},S=function(){y(!1)},k=function(){s(!0)},x=function(){p(!1)},_=function(){console.log("retweeting");var t={body:"retweet"+a._id};e.postComment("./api/screams",t);try{setTimeout((function(){var t={retweet_id:gt(),retweeted_id:a._id};e.putRetweetDetail("./api/screams/retweet",t)}),1e3)}catch(n){alert("internet error, fail to retweet")}},D=e.isRetweet?r.a.createElement("div",{className:t.retweet_card},r.a.createElement(et,{scream:a,isComment:e.isComment,isRetweet:e.isRetweet})):r.a.createElement(g.a,{className:t.fullScreen_button,onClick:function(){p(!0)}},r.a.createElement(et,{scream:a,isComment:e.isComment,isRetweet:e.isRetweet}));return r.a.createElement("div",null,r.a.createElement(Ge.a,{className:t.root},r.a.createElement("div",{className:t.add},r.a.createElement(g.a,null,r.a.createElement(xt.a,null)),a.author===e.user._id?"":r.a.createElement(Pe.a,{title:w?"unfollow":"follow",className:w?t.follow:"",onClick:function(){w?(e.putUnFollow("./api/users/unfollow/".concat(a.author)),v(!1)):(e.putFollow("./api/users/follow/".concat(a.author)),v(!0))}},r.a.createElement(g.a,null,r.a.createElement(St.a,null)))),D,r.a.createElement(Me,{scream:a,handleClickOpen:k,openDelete:h,handleDeleteOpen:C,handleDeleteClose:S,retweet:_,like:function(t){console.log("liking a post"),e.putLikePost("./api/users/like/".concat(t))},unLike:function(t){console.log("Unliking a post"),e.putUnLikePost("./api/users/unlike/".concat(t))}}),r.a.createElement(bt,Object.assign({open:l,handleClose:function(){s(!1)},scream:a},e))),r.a.createElement(O.a,{fullScreen:!0,open:d,onClose:x,TransitionComponent:Dt},r.a.createElement(wt,{handleCloseFull:x,scream:a,handleClickOpen:k,openDelete:h,handleDeleteOpen:C,handleDeleteClose:S,retweet:_})))})),It=Object(s.a)((function(e){return{screams:{maxWidth:512,margin:"0 auto",marginTop:"2rem"},wrapper:{margin:"1rem 0",borderLeft:"3px solid #1DA1F2"}}})),Ft=Object(S.b)((function(e){return{screams:e.data.screams,totalRetweet:e.data.totalRetweet,totalComment:e.data.totalComment}}),(function(e){return{getPosts:function(t){return e(B({url:t}))}}}))((function(e){var t=It(e);Object(n.useEffect)((function(){e.getPosts("./api/screams")}),[e.totalRetweet,e.totalComment]);var a;return a=e.screams?e.screams.map((function(a,n){return function(a,n){if(console.log("getScream is ",a),a.commentOn){var o=a.commentOn,c=e.screams.find((function(e){return e._id===o}));return r.a.createElement("div",{className:t.wrapper},a.body.startsWith("retweet")?r.a.createElement(Nt,{key:n+"Scream",scream:a,isComment:!1}):r.a.createElement("div",null,r.a.createElement(Nt,{key:n+"commentedScream",scream:c}),r.a.createElement(Nt,{key:n+"commentingScream",scream:a,isComment:!0})," "))}return console.log("passing scream, not comment, not tweet is ",a),r.a.createElement(Nt,{key:n+"scream",scream:a,isComment:!1})}(a,n)})):r.a.createElement(w.a,null),r.a.createElement("div",{className:t.screams},a)})),Pt=a(236),Tt=a(238),Ut=a(237),Lt=a(225),Bt=a(239),Wt=a(124),At=a.n(Wt),Rt=a(123),zt=a.n(Rt),Mt=Object(s.a)((function(e){return{inline:{display:"inline",padding:"0 1em",margin:"0 auto"},notes:{display:"flex",flexDirection:"row",paddingTop:"1em"},note:{padding:" 0 1rem"}}})),Gt=Object(S.b)((function(e){return{user:e.user.user,errors:e.user.fetching_errors}}),(function(e){return{logout:function(){return e(N())}}}))((function(e){var t=Mt(),a=e.user,n=a.handle,o=a.following,c=a.followedBy,l=a.imageUrl;return r.a.createElement(Lt.a,null,r.a.createElement(Pt.a,{alignItems:"flex-start"},r.a.createElement(Ut.a,null,r.a.createElement(Qe,{imageUrl:l,isTweet:!1}),r.a.createElement(C.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},"@ ",n))),r.a.createElement(Pt.a,null,r.a.createElement(Tt.a,{secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{className:t.notes},r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p",className:t.note},o.length," Followings"),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p",className:t.note},c.length," Followers")))})),r.a.createElement(Pt.a,{button:!0,key:"Profile",onClick:function(){e.history.push("/profile/mytweet")}},r.a.createElement(Bt.a,null,r.a.createElement(zt.a,null)),r.a.createElement(Tt.a,{primary:"Profile"})),r.a.createElement(Pt.a,{button:!0,key:"Logout",onClick:function(){e.logout()}},r.a.createElement(Bt.a,null,r.a.createElement(At.a,null)),r.a.createElement(Tt.a,{primary:"Logout"})),e.errors&&r.a.createElement(C.a,{variant:"body2",className:t.errorMessage},e.errors))})),Jt=Object(s.a)((function(e){return{cancelIcon:{position:"absolute",right:0,top:0,padding:0,margin:0},errorMessage:{fontSize:"0.8rem",color:"red",textAlign:"center"}}})),Xt=Object(S.b)((function(e){return{errors:e.data.post_errors}}),(function(e){return{postScream:function(t,a,n){return e(G({url:t,userData:a,handle:n}))}}}))((function(e){var t=Jt(e),a=e.handleClose,o=e.open,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],m=l[1],u=Object(n.useState)(!0),d=Object(i.a)(u,2),p=d[0],f=d[1];return r.a.createElement(O.a,{open:o,onClose:a,"aria-labelledby":"form-dialog-title",fullWidth:"100%"},r.a.createElement(g.a,{className:t.cancelIcon,onClick:a,color:"primary"},r.a.createElement(at.a,null)),r.a.createElement(v.a,{id:"form-dialog-title"},"What's happening ?"),r.a.createElement(j.a,null,r.a.createElement(y.a,{id:"tweet",multiline:!0,rows:4,defaultValue:s,onChange:function(e){m(e.target.value);var t=function(e){if(e.length>200|e.length<3)return"length should be smaller than 200 and greater than 3"}(e.target.value);f(!!t)},variant:"outlined",fullWidth:"100%"}),e.errors&&r.a.createElement(C.a,{variant:"body2",className:t.errorMessage},e.errors)),r.a.createElement(E.a,null,r.a.createElement(g.a,{onClick:function(t){t.preventDefault();var n={body:s};e.postScream("./api/screams",n,a),m("")},variant:"contained",color:"primary",disabled:p},"Tweet")))})),Vt=a(3),Zt=a(240),$t=a(82),Ht=a.n($t),Kt=a(241),qt=Object(s.a)((function(e){return{root:{backgroundColor:"#fff",margin:"0 auto",width:"100%"},appBar:{background:"none"},menuButton:{marginRight:e.spacing(2)},title:{color:"#1DA1F2",fontWeight:"600"},grid:{paddingTop:"1rem"},list:{backgroundColor:"#fff",width:"20rem",height:"100vh",color:"black"},fullList:{width:"auto"},addIcon:{position:"fixed",color:"#1DA1F2",bottom:"3rem",right:"3rem"},menuIcon:{color:"#1DA1F2"},imageContainer:{width:"100%"},image:{width:"100%",height:"100%",backgroundImage:"url(/image/twitterLogo.jpg)",backgroundRepeat:"repeat"}}})),Qt=Object(S.b)((function(e){return{delete_loading:e.data.delete_loading}}))((function(e){var t,a=qt(e),n=r.a.useState({left:!1}),o=Object(i.a)(n,2),c=o[0],l=o[1],s=r.a.useState(!1),u=Object(i.a)(s,2),d=u[0],p=u[1],y=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&l(Object(ke.a)(Object(ke.a)({},c),{},Object(Se.a)({},e,t)))}};return r.a.createElement("div",{className:a.root},r.a.createElement(m.a,null),r.a.createElement(Ot.a,{position:"static",className:a.appBar},r.a.createElement(Et.a,null,r.a.createElement(g.a,{onClick:y("left",!0),className:a.menuIcon},r.a.createElement(Qe,{isTweet:!1})),r.a.createElement(C.a,{variant:"h6",className:a.title},"Home"))),r.a.createElement(Zt.a,{anchor:"left",open:c.left,onClose:y("left",!1)},(t="left",r.a.createElement("div",{className:Object(Vt.a)(a.list,Object(Se.a)({},a.fullList,"top"===t||"bottom"===t)),role:"presentation",onClick:y(t,!1),onKeyDown:y(t,!1)},r.a.createElement(Gt,e)))),r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,xs:12,sm:6,container:!0},r.a.createElement(Ft,null)),r.a.createElement(f.a,{item:!0,sm:6,className:a.imageContainer},r.a.createElement(h.a,{xsDown:!0},r.a.createElement(b.a,{className:a.image})))),r.a.createElement(Kt.a,{color:"primary",size:"medium",className:a.addIcon,onClick:function(){p(!0)}},r.a.createElement(Ht.a,{fontSize:"large"})),r.a.createElement(Xt,Object.assign({open:d,handleClose:function(){p(!1)}},e)))})),Yt=a(72),ea=a(43),ta=a(132),aa=a(131),na=function(e){Object(ta.a)(a,e);var t=Object(aa.a)(a);function a(){var e;Object(Yt.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(ea.a)(a,[{key:"render",value:function(){return r.a.createElement("h1",null,"NotFound")}}]),a}(n.Component),ra=a(2);var oa=function(e){var t=e.path,a=e.component,r=e.render,o=Object(ra.a)(e,["path","component","render"]);return n.createElement(l.b,Object.assign({path:t},o,{render:function(e){return ut()?a?n.createElement(a,Object.assign({currentUser:ut()},e)):r(e):n.createElement(l.a,{to:{pathname:"/auth",state:{from:e.location}}})}}))},ca=a(125),la=a.n(ca),ia=Object(s.a)((function(e){return{root:{flexGrow:1,backgroundColor:"#fff",margin:"0 auto",width:"100%",height:"10rem"},appBar:{background:"none"},backIcon:{color:"#1DA1F2"},title:{color:"black",fontWeight:"600"}}})),sa=function(e){var t=ia(e);return r.a.createElement("div",{className:t.root},r.a.createElement(m.a,null),r.a.createElement(Ot.a,{position:"static",className:t.appBar},r.a.createElement(Et.a,null,r.a.createElement(g.a,{className:t.backIcon,onClick:function(){e.history.push("/home")}},r.a.createElement(la.a,null)),r.a.createElement(C.a,{variant:"h6",className:t.title},"Xinyu Tang(Anna)"))))},ma=Object(s.a)((function(e){return{errorMessage:{fontSize:"0.8rem",color:"red",textAlign:"center"}}})),ua=Object(S.b)((function(e){return{user:e.user.user,errors:e.user.update_error}}),(function(e){return{update:function(t,a,n){return e(T({url:t,userData:a,handle:n}))}}}))((function(e){var t=ma(e),a=e.open,o=e.handleClose,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],m=l[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),p=d[0],f=d[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),w=h[0],S=h[1],k=Object(n.useState)(""),x=Object(i.a)(k,2),_=x[0],D=x[1],N=Object(n.useState)(""),I=Object(i.a)(N,2),F=I[0],P=I[1],T=Object(n.useState)(""),U=Object(i.a)(T,2),L=U[0],B=U[1],W=Object(n.useState)(!1),A=Object(i.a)(W,2),R=A[0],z=A[1];Object(n.useEffect)((function(){var t=e.user,a=t.bio,n=t.location,r=t.website;m(a),f(n),S(r)}),[e.user]);var M=function(e){var t=e.target.name,a=function(e,t){return"website"===t?e.length>=5&&e.length<=50?"":"length should be longer than 5 smaller than 50":"bio"===t?e.length>=5&&e.length<=200?"":"length should be longer than 5 smaller than 200":e.length>=5&&e.length<=30?"":"length should be longer than 5 smaller than 30"}(e.target.value,e.target.name);"bio"===t?(m(e.target.value),D(a)):"location"===t?(f(e.target.value),P(a)):(S(e.target.value),B(a)),z(!!a)};return r.a.createElement(O.a,{open:a,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement(v.a,{id:"form-dialog-title"},"Edit Profile"),r.a.createElement(Qe,{isTweet:!1}),e.errors&&r.a.createElement(C.a,{variant:"body2",className:t.errorMessage},e.errors),r.a.createElement(j.a,null,r.a.createElement(y.a,{id:"bio",name:"bio",type:"bio",label:"bio",value:s,onChange:M,helperText:_,error:!!_,fullWidth:!0}),r.a.createElement(y.a,{id:"location",name:"location",type:"location",label:"location",value:p,onChange:M,helperText:F,error:!!F,fullWidth:!0}),r.a.createElement(y.a,{id:"website",name:"website",type:"website",label:"website",value:w,onChange:M,helperText:L,error:!!L,fullWidth:!0})),r.a.createElement(E.a,null,r.a.createElement(g.a,{onClick:o,color:"primary"},"Cancel"),r.a.createElement(g.a,{onClick:function(t){t.preventDefault(),function(){var t={bio:s,location:p,website:w};e.update("./api/users/details",t,o)}()},color:"primary",disabled:R},"Save")))})),da=a(242),pa=a(245),ga=a(244),fa=a(243),ba=a(126),ha=a.n(ba),ya=a(127),Oa=a.n(ya),Ea=a(128),ja=a.n(Ea),wa=Object(s.a)({root:{width:"100%",position:"absolute",top:"3rem"},media:{height:160},buttons:{display:"flex",flexDirection:"row",justifyContent:"space-around"},profileInfo:{textAlign:"start",paddingTop:"3rem"},notes:{display:"flex",flexDirection:"row",paddingTop:"1em"},note:{padding:"0 1rem"},button:{position:"absolute",right:0,margin:"1em"}}),va=Object(S.b)((function(e){return{user:e.user.user,fetch_errors:e.user.fetch_errors}}))(Object(l.g)((function(e){var t,a=wa(e),n=r.a.useState(!1),o=Object(i.a)(n,2),c=o[0],l=o[1];if(e.user){var s=e.user,m=(s._id,s.handle),u=s.bio,d=s.website,p=s.location,f=s.createdAt,b=s.following,h=s.followedBy;t=r.a.createElement(Ge.a,null,r.a.createElement(da.a,null,r.a.createElement(fa.a,{className:a.media,image:"/image/twitterLogo.jpg",title:"background"}),r.a.createElement(g.a,{variant:"outlined",color:"primary",className:a.button,onClick:function(){l(!0)}},"Edit Profile"),r.a.createElement(ga.a,{className:a.profileInfo},r.a.createElement(C.a,{gutterBottom:!0,variant:"h6",component:"h2"},m),r.a.createElement(Je.a,{component:Je.a,to:"/profile",color:"textPrimary"},"@",m),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},u),r.a.createElement(C.a,{className:a.notes},r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement(ha.a,null),p),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement(Oa.a,null),d),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement(ja.a,null),f?f.split("T")[0]:"")),r.a.createElement(C.a,{className:a.notes},r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p",className:a.note},b?b.length:""," Followings"),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p",className:a.note},h?h.length:""," Followers")))),r.a.createElement(pa.a,{className:a.buttons},r.a.createElement(Je.a,{component:"button",variant:"body2",onClick:function(){e.history.push(e.match.url+"/mytweet")}},"Tweets"),r.a.createElement(Je.a,{component:"button",variant:"body2",onClick:function(){e.history.push(e.match.url+"/mycomment")}},"Tweets & replies"),r.a.createElement(Je.a,{component:"button",variant:"body2",onClick:function(){e.history.push(e.match.url+"/mylike")}},"Likes")),r.a.createElement(ua,{open:c,handleClose:function(){l(!1)}}))}else t=r.a.createElement(w.a,null);return r.a.createElement("div",{className:a.root},t)}))),Ca=a(129),Sa=a.n(Ca),ka=a(224),xa=Object(s.a)({editImage:{display:"flex",flexDirection:"row"},icon:{position:"absolute"},popover:{pointerEvents:"none"}}),_a=Object(S.b)(null,(function(e){return{update:function(t,a){return e(T({url:t,userData:a}))}}}))((function(e){var t=xa(e),a=r.a.useState(null),n=Object(i.a)(a,2),o=n[0],c=n[1],l=Boolean(o),s=function(){c(null)};return r.a.createElement("div",{className:t.editImage},r.a.createElement(Qe,{isTweet:!1}),r.a.createElement("div",null,r.a.createElement(g.a,{className:t.icon},r.a.createElement("input",{type:"file",id:"profileImage",hidden:"hidden",onChange:function(t){var a=new FormData;a.append("profileImage",t.target.files[0]),e.update("./api/users/image",a)}})),r.a.createElement(g.a,{tip:"Edit profile picture",onClick:function(){document.getElementById("profileImage").click()},btnClassName:"button",className:"editIcon","aria-owns":l?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){c(e.currentTarget)},onMouseLeave:s},r.a.createElement(Sa.a,null))),r.a.createElement("div",null,r.a.createElement(ka.a,{id:"mouse-over-popover",className:t.popover,open:l,anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:s,disableRestoreFocus:!0},r.a.createElement(C.a,null,"Edit Image (within 1024*1024 jpg/png)."))))})),Da=Object(s.a)({root:{position:"relative",width:"100%",maxWidth:512,margin:"0 auto",marginTop:"300px"},wrapper:{margin:"1rem 0",borderLeft:"3px solid #1DA1F2"}}),Na=Object(S.b)((function(e){return{screams:e.data.screams,user:e.user.user}}))((function(e){var t,a=Da(e);e.screams?t=e.screams.filter((function(t){return t.author===e.user._id})).map((function(t,n){return function(t,n){if(console.log("getScream is ",t),t.commentOn){var o=t.commentOn,c=e.screams.find((function(e){return e._id===o}));return r.a.createElement("div",{className:a.wrapper},t.body.startsWith("retweet")?r.a.createElement(Nt,{key:n+"Scream",scream:t,isComment:!1}):r.a.createElement("div",null,r.a.createElement(Nt,{key:n+"commentedScream",scream:c}),r.a.createElement(Nt,{key:n+"commentingScream",scream:t,isComment:!0})," "))}return console.log("passing scream, not comment, not tweet is ",t),r.a.createElement(Nt,{key:n+"scream",scream:t,isComment:!1})}(t,n)})):t=r.a.createElement(w.a,null);return r.a.createElement("div",{className:a.root},t)})),Ia=Object(s.a)({root:{position:"relative",width:"100%",maxWidth:512,margin:"0 auto",marginTop:"300px"},wrapper:{margin:"1rem 0",borderLeft:"3px solid #1DA1F2"}}),Fa=Object(S.b)((function(e){return{screams:e.data.screams,user:e.user.user}}))((function(e){var t,a=Ia(e);if(e.screams){var n=[];e.user.like.forEach((function(e){n.push(e._id)})),t=e.screams.filter((function(e){return n.includes(e._id)})).map((function(t,n){return function(t,n){if(t.commentOn){var o=t.commentOn,c=e.screams.find((function(e){return e._id===o}));return r.a.createElement("div",{className:a.wrapper},t.body.startsWith("retweet")?r.a.createElement(Nt,{key:n+"Scream",scream:t,isComment:!1}):r.a.createElement("div",null,r.a.createElement(Nt,{key:n+"commentedScream",scream:c}),r.a.createElement(Nt,{key:n+"commentingScream",scream:t,isComment:!0})," "))}return console.log("passing scream, not comment, not tweet is ",t),r.a.createElement(Nt,{key:n+"scream",scream:t,isComment:!1})}(t,n)}))}else t=r.a.createElement(w.a,null);return r.a.createElement("div",{className:a.root},t)})),Pa=Object(s.a)({root:{position:"relative",width:"100%",maxWidth:512,margin:"0 auto",marginTop:"300px"},wrapper:{margin:"1rem 0",borderLeft:"3px solid #1DA1F2"}}),Ta=Object(S.b)((function(e){return{screams:e.data.screams,user:e.user.user}}))((function(e){var t,a=Pa(e);e.screams?t=e.screams.filter((function(t){return t.author===e.user._id})).map((function(t,n){return function(t,n){if(console.log("getScream is ",t),t.commentOn){var o=t.commentOn,c=e.screams.find((function(e){return e._id===o}));return r.a.createElement("div",{className:a.wrapper},t.body.startsWith("retweet")?r.a.createElement(Nt,{key:n+"Scream",scream:t,isComment:!1}):r.a.createElement("div",null,r.a.createElement(Nt,{key:n+"commentedScream",scream:c}),r.a.createElement(Nt,{key:n+"commentingScream",scream:t,isComment:!0})," "))}return""}(t,n)})):t=r.a.createElement(w.a,null);return r.a.createElement("div",{className:a.root},t)})),Ua=Object(s.a)({root:{position:"relative",width:"100%",height:"100vh"},addIcon:{position:"fixed",color:"#1DA1F2",bottom:"3rem",right:"3rem"},editImage:{display:"flex",flexDirection:"row"},icon:{position:"absolute"},popover:{pointerEvents:"none"}}),La=function(e){var t=Ua(e),a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],s=o[1];return r.a.createElement("div",{className:t.root},r.a.createElement(sa,e),r.a.createElement(va,null),r.a.createElement(_a,null),r.a.createElement(Kt.a,{color:"primary",size:"medium",className:t.addIcon,onClick:function(){s(!0)}},r.a.createElement(Ht.a,{fontSize:"large"})),r.a.createElement(l.b,{path:"/profile/mytweet",component:Na}),r.a.createElement(l.b,{path:"/profile/mycomment",component:Ta}),r.a.createElement(l.b,{path:"/profile/mylike",component:Fa}),r.a.createElement(Xt,Object.assign({open:c,handleClose:function(){s(!1)}},e)))},Ba=a(24),Wa=a(58),Aa={authenticated:!1,loading:!1,errors:"",user:"",fetching_errors:"",update_error:"",image_loading:!1},Ra=a(28),za={screams:"",errors:"",post_errors:"",delete_loading:!1,post:"",post_error:"",post_loading:!1,totalComment:0,totalRetweet:0,unComment_error:""},Ma=[Wa.a,function(e){var t=e.dispatch;e.getState;return function(e){return function(a){if(a.type!==x.type)return e(a);e(a);var n=a.payload,r=n.url,o=n.userData,c=n.history;it.post("".concat(r),o,c).then((function(e){t(_(e.data.token)),c.push("/home");var a=ut();t(I({url:"./api/users/".concat(a._id)}))})).catch((function(e){t(D(e.response.data.message))}))}}},function(e){var t=e.dispatch;return function(e){return function(a){if(a.type!==I.type&&a.type!==B.type&&a.type!==R.type)return e(a);if(e(a),a.type===B.type){var n=a.payload.url;it.get("".concat(n)).then((function(e){return t(W(e.data))})).catch((function(e){console.log(e),t(A(e.response.data.message))}))}else if(a.type===I.type){var r=a.payload.url;it.get("".concat(r)).then((function(e){return t(F(e.data))})).catch((function(e){t(P(e.response.data.message))}))}else{var o=a.payload.url;console.log("apiGetOneScreamBegan url",o),it.get("".concat(o)).then((function(e){return t(z(e.data))})).catch((function(e){t(M(e.response.data.message))}))}}}},function(e){var t=e.dispatch;e.getState;return function(e){return function(a){if(a.type!==T.type&&a.type!==te.type&&a.type!==re.type&&a.type!==V.type&&a.type!==H.type&&a.type!==le.type&&a.type!==me.type&&a.type!==be.type&&a.type!==pe.type)return e(a);if(e(a),a.type===T.type){var n=a.payload,r=n.url,o=n.userData,c=n.handle;it.put("".concat(r),o).then((function(e){t(U(e.data)),c&&c()})).catch((function(e){console.log(e),t(L(e.response.data.message))}))}else if(a.type===te.type){var l=a.payload,i=l.url,s=l.userData;it.put("".concat(i),s).then((function(e){t(ae(e.data)),pt()})).catch((function(e){console.log(e),t(ne(e.response.data.message))}))}else if(a.type===re.type){var m=a.payload,u=m.url,d=m.userData;it.put("".concat(u),d).then((function(e){t(oe(e.data)),pt()})).catch((function(e){console.log(e),t(ce(e.response.data.message))}))}else if(a.type===H.type){var p=a.payload,g=p.url,f=p.userData;console.log("actions.apiUncommentBegan url is",g),console.log("actions.apiUncommentBegan userData is",f),it.put("".concat(g),f).then((function(e){t(K(e.data))})).catch((function(e){t(q(e.response.data.message))}))}else if(a.type===le.type){var b=a.payload.url;it.put("".concat(b)).then((function(e){t(ie(e.data))})).catch((function(e){t(se(e.response.data.message))}))}else if(a.type===me.type){var h=a.payload.url;it.put("".concat(h)).then((function(e){t(ue(e.data))})).catch((function(e){t(de(e.response.data.message))}))}else if(a.type===be.type){var y=a.payload.url,O=ut();it.put("".concat(y)).then((function(e){t(he(e.data)),t(I({url:"./api/users/".concat(O._id)}))})).catch((function(e){t(ye(e.response.data.message))}))}else if(a.type===pe.type){var E=a.payload.url,j=ut();it.put("".concat(E)).then((function(e){t(ge(e.data)),t(I({url:"./api/users/".concat(j._id)}))})).catch((function(e){t(fe(e.response.data.message))}))}else{var w=a.payload,v=w.url,C=w.data,S=w.history;it.put("".concat(v),C).then((function(e){t(Z({ids:C.ids})),S.push("/home")})).catch((function(e){t($(e.response.data.message))}))}}}},function(e){var t=e.dispatch;e.getState;return function(e){return function(a){if(a.type!==G.type&&a.type!==Q.type)return e(a);if(e(a),a.type===G.type){var n=a.payload,r=n.url,o=n.userData,c=n.handle;it.post("".concat(r),o).then((function(e){t(J(e.data)),c&&c()})).catch((function(e){t(X(e.response.data.message))}))}else if(a.type===Q.type){var l=a.payload,i=l.url,s=l.userData;it.post("".concat(i),s).then((function(e){t(Y(e.data))})).catch((function(e){t(ee(e.response.data.message))}))}}}}],Ga=Object(Ba.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.type:return console.log("user submit/login siginUp form"),Object(ke.a)(Object(ke.a)({},e),{},{errors:""});case _.type:return console.log("siginUp/login successfully "),st(t.payload),Object(ke.a)(Object(ke.a)({},e),{},{authenticated:!0});case D.type:return console.log("siginUp/login failed : ",t.payload),Object(ke.a)(Object(ke.a)({},e),{},{errors:t.payload});case N.type:return console.log("logging out user"),mt(),window.location.replace("/auth"),Object(ke.a)(Object(ke.a)({},e),{},{authenticated:!1});case I.type:return console.log("user start fetching data"),Object(ke.a)(Object(ke.a)({},e),{},{fetching_errors:""});case F.type:return console.log("user data successfully fetched as",t.payload),Object(ke.a)(Object(ke.a)({},e),{},{user:t.payload.user});case P.type:return console.log("user data failed and error is : ",t.payload),Object(ke.a)(Object(ke.a)({},e),{},{fetching_errors:t.payload});case T.type:return Object(ke.a)(Object(ke.a)({},e),{},{image_loading:!0,update_error:""});case U.type:return Object(ke.a)(Object(ke.a)({},e),{},{user:t.payload.user,image_loading:!1});case L.type:return Object(ke.a)(Object(ke.a)({},e),{},{image_loading:!1,update_error:t.payload});case le.type:return console.log("user start like a post"),Object(ke.a)({},e);case ie.type:return console.log("user successfully liked and updated as",t.payload.updated),Object(ke.a)(Object(ke.a)({},e),{},{user:t.payload.updated});case se.type:return console.log("apiPutLikeFailed  "),Object(ke.a)({},e);case me.type:return console.log("user start unlike a post"),Object(ke.a)({},e);case ue.type:return console.log("user successfully unliked and updated as",t.payload.target),Object(ke.a)(Object(ke.a)({},e),{},{user:t.payload.target});case de.type:return console.log("apiPutUnLikeFailed  "),Object(ke.a)({},e);case be.type:case pe.type:return console.log("apiPutFollowBegan"),Object(ke.a)({},e);case he.type:case ge.type:return console.log("apiPutFollowSuccess",t.payload.message),Object(ke.a)({},e);case ye.type:case fe.type:return console.log("apiPutFollowFailed "),Object(ke.a)({},e);default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.type:return console.log("start fetching scream data"),Object(ke.a)(Object(ke.a)({},e),{},{errors:""});case W.type:return console.log("screams successfully fetched as",t.payload.screams),Object(ke.a)(Object(ke.a)({},e),{},{screams:t.payload.screams});case A.type:return console.log("apiGetScreamFailed : ",t.payload),Object(ke.a)(Object(ke.a)({},e),{},{errors:t.payload});case R.type:return console.log("start fetching ONE scream data"),Object(ke.a)(Object(ke.a)({},e),{},{post_error:"",post_loading:!0});case z.type:return console.log("ONE scream successfully fetched as",t.payload.scream),Object(ke.a)(Object(ke.a)({},e),{},{post:t.payload.scream[0],post_loading:!1});case M.type:return console.log("aapiGetOneScreamFailed : ",t.payload),Object(ke.a)(Object(ke.a)({},e),{},{post_error:t.payload,post_loading:!1});case G.type:return console.log("start post scream data"),Object(ke.a)(Object(ke.a)({},e),{},{post_errors:""});case J.type:console.log("screams successfully posted as",t.payload.scream);var a=t.payload.scream;return a.likeCount=0,Object(ke.a)(Object(ke.a)({},e),{},{screams:[a].concat(Object(Ra.a)(e.screams))});case X.type:return console.log("apiPostScreamFailed : ",t.payload),Object(ke.a)(Object(ke.a)({},e),{},{post_errors:t.payload});case V.type:return console.log("start delete scream data"),Object(ke.a)(Object(ke.a)({},e),{},{delete_loading:!0});case Z.type:return console.log("  deleted screamId is..",t.payload.ids),t.payload.ids.forEach((function(t){var a=e.screams.findIndex((function(e){return e._id===t}));e.screams.splice(a,1)})),Object(ke.a)(Object(ke.a)({},e),{},{screams:Object(Ra.a)(e.screams),delete_loading:!1});case $.type:return console.log("apiDeleteFailed: ",t.payload),Object(ke.a)(Object(ke.a)({},e),{},{delete_loading:!1});case H.type:return console.log("apiUncommentBegan"),Object(ke.a)(Object(ke.a)({},e),{},{unComment_error:""});case K.type:return console.log(" apiUncommentSuccess and  uncommented is..",t.payload.target),Object(ke.a)(Object(ke.a)({},e),{},{totalComment:e.totalComment-1});case q.type:return console.log("apiUncommentFailed: ",t.payload),Object(ke.a)(Object(ke.a)({},e),{},{unComment_error:t.payload});case Q.type:return console.log("start post comment data"),Object(ke.a)(Object(ke.a)({},e),{},{errors:""});case Y.type:return console.log("comment successfully posted as",t.payload.scream),dt(t.payload.scream._id),Object(ke.a)({},e);case ee.type:return console.log("apiPostCommentFailed : ",t.payload),Object(ke.a)(Object(ke.a)({},e),{},{errors:t.payload});case te.type:return console.log("start put comment data"),Object(ke.a)(Object(ke.a)({},e),{},{errors:""});case ae.type:return console.log("comment successfully put as",t.payload.comment),Object(ke.a)(Object(ke.a)({},e),{},{totalComment:e.totalComment+1,screams:[t.payload.comment].concat(Object(Ra.a)(e.screams))});case ne.type:return console.log("apiPutCommentFailed : ",t.payload),Object(ke.a)(Object(ke.a)({},e),{},{errors:t.payload});case re.type:return console.log("start put Retweet data"),Object(ke.a)(Object(ke.a)({},e),{},{errors:""});case oe.type:return console.log("Retweet successfully put as",t.payload.retweet),Object(ke.a)(Object(ke.a)({},e),{},{totalRetweet:e.totalRetweet+1,screams:[t.payload.retweet].concat(Object(Ra.a)(e.screams))});case ce.type:return console.log("apiPutRetweetFailed : ",t.payload),Object(ke.a)(Object(ke.a)({},e),{},{errors:t.payload});default:return e}}}),Ja=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Ba.d)(Ba.a.apply(void 0,Ma)),Xa=Object(Ba.e)(Ga,Ja);var Va=function(){return Object(n.useEffect)((function(){var e=localStorage.getItem("IdToken");if(e){var t=ut();if(function(){if(localStorage.getItem("IdToken")&&localStorage.getItem("expirationDate")<Date.now())return console.log("token expired ...."),!0}())return Xa.dispatch(N());Xa.dispatch(_(e)),Xa.dispatch(I({url:"/api/users/".concat(t._id)}))}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{store:Xa},r.a.createElement("div",{className:"App"},r.a.createElement(l.d,null,r.a.createElement(oa,{path:"/home",exact:!0,component:Qt}),r.a.createElement(l.b,{path:"/auth",exact:!0,component:Ce}),r.a.createElement(l.b,{path:"/",exact:!0},r.a.createElement(l.a,{to:"/auth"})),r.a.createElement(oa,{path:"/profile",component:La}),r.a.createElement(l.b,{path:"/",component:na})))))},Za=a(130),$a=Object(Za.a)({typography:{button:{textTransform:"none"}}}),Ha=a(246);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ha.a,{theme:$a},r.a.createElement(xe.a,null,r.a.createElement(Va,null)))),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.b5ed824a.chunk.js.map